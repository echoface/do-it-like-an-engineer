# åŸºæœ¬æ’åºç®—æ³•çš„å°ç»“

## åŸºæœ¬æ’åº(O(N))

* å†’æ³¡æ’åº
* é€‰æ‹©æ’åº
* æ’å…¥æ’åº

## æ”¹è¿›åçš„æ’åº

* å¸Œå°”æ’åº
* å †æ’åº
* å½’å¹¶æ’åº
* å¿«é€Ÿæ’åº

## å†’æ³¡æ’åºï¼š

åŸºæœ¬çš„å†’æ³¡æ’åºï¼Œ æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±æ˜¯æ‹¿å‡ºä¸€ä¸ªå…ƒç´ ï¼Œ ä¸å‰©ä¸‹æ‰€æœ‰å…ƒç´ æ¯”ä¸€éï¼› æ¯”å®Œä¹‹åï¼Œå¯ä»¥ç¡®å®šçš„æ˜¯æ‹¿å‡ºæ¥çš„è¿™ä¸ªå…ƒç´ å­˜å‚¨çš„åªçš„å¤§å°å°±æ˜¯`æœ€å¤§`æˆ–è€…`æœ€å°`çš„ï¼›  
ä¾æ¬¡å¾€ä¸‹ï¼Œ æ¯”å®Œæ‰€æœ‰å…ƒç´ å°±ç¡®å®šäº†é¡ºåºï¼›è¿™æ˜¯æœ€æœ€æœ€åŸºæœ¬çš„æ€æƒ³ï¼Œ ä½†è¿™ä¸ä¸¥æ ¼æ„ä¹‰ä¸Šçš„`å†’æ³¡æ’åº`å®šä¹‰ä¸­çš„`ä¸¤ä¸¤ç›¸ä¸´å…ƒç´ ä¾æ¬¡æ¯”è¾ƒ`æ˜¯å†²çªçš„ï¼›æš‚ä¸”ç§°ä¹‹ä¸º`é‡å†’æ³¡æ’åº`å§ï¼›

```c
  for(i : n) ï½›//å‡è®¾è§„æ¨¡ä¸ºn
    for(i+1 : n) {
       if( > ) { äº¤æ¢ä¸¤ä¸ªæ•°æ® }
    } 
 // å®ä¾‹å®ç°
void BubbleSort_0(int arr[], int size) {//éæ­£è§„å†›....
    for(int i=0; i < size-1; i++) {
        for(int j=i+1; j < size; j++) {
            if (arr[i] > arr[j]) {
                int tmp = arr[i];
                arr[i] = arr[j];
                arr[j] = tmp;
            }
        }
    }
}
```

å¦‚æœæŒ‰ç…§ä¸¥æ ¼æ„ä¹‰ä¸Šçš„å†’æ³¡æ’åºçš„æ•°å­¦å®šä¹‰. è¯¥æ˜¯ä»€ä¹ˆæ ·å­çš„å®ç°å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬åŸºäºintæ•°æ®çš„æ•°ç»„å®ç°ï¼› åªè®¨è®ºç†è§£ç®—æ³•çš„å†…åœ¨ï¼Œ å°±ä¸è€ƒè™‘å…¶ä»–ç±»å‹äº†ï¼Œé‚£äº›åœ¨C++ä¸­æœ‰æ³›å‹ï¼Œè¿ç®—ç¬¦é‡è½½ç­‰ç­‰çš„æ”¯æŒï¼›æš‚ä¸”ä¸è®ºï¼›ğŸ‘€ä¸‹é¢çš„è¿™ä¸ª`æ ‡å‡†å®ç°`

```c
void BubbleSort_1(int arr[], int size) {
    for(int i=0; i < size-1; i++) { //å¾ªç¯1

        /* è¿™é‡Œè¿™ä¸ªå†…å¾ªç¯çš„ç›®æ ‡å°±æ˜¯å°†iè¿™ä¸ªä½ç½®çš„å…ƒç´ è¦å˜æˆå®ƒä¸å®ƒå³è¾¹æ‰€æœ‰å…ƒç´ ä¸­
         * æœ€å°çš„ï¼»å‡è®¾å‡åºï¼½ï¼›é‚£ä¹ˆæˆ‘ä»¬å°±è¦ä»æœ€å³ç«¯sizeï¼1å¼€å§‹ï¼Œç”¨ç›¸é‚»çš„ä¸¤ä¸ª
         * å…ƒç´ ä¸¤ä¸¤æ¯”è¾ƒï¼›å¦‚æœå·¦è¾¹>å³è¾¹ï¼› åˆ™äº¤æ¢ä¸¤ä¸ªå…ƒç´ å³å¯!
         */
        for(int j=size-1; j > i; j--) { //å¾ªç¯2
            if (/*å·¦è¾¹*/arr[j-1] > arr[j]/*å³è¾¹*/) {
                int tmp = arr[j];
                arr[j] = arr[j-1];
                arr[j-1] = tmp;
            }
        }
    }
}
```

## ä¼˜åŒ–ï¼š

è€ƒè™‘è¿™æ ·ä¸€ç§æƒ…å†µï¼› å½“`å¾ªç¯2`ä¸­çš„`i == (j-1)`çš„æ—¶å€™ï¼Œ å¦‚æœiå…ƒç´ ï¼ˆå³`arr[j-1]`ï¼‰ä¸ `arr[j]` ä¸éœ€è¦äº¤æ¢æ•°æ®çš„æ—¶å€™ï¼Œ æˆ‘ä»¬å¯ä»¥è·³è¿‡ä¸€æ¬¡`å¾ªç¯1`; è¿™æ ·åšçš„ä¾æ®ï¼š

* 1.å¤–å±‚å¾ªç¯`å¾ªç¯1`çš„ç›®æ ‡æ˜¯ï¼Œå°†`arr[i]`å˜æˆä¸å®ƒå³è¾¹å…ƒç´ ç›¸æ¯”æœ€å°çš„å…ƒç´  å³`arr[i]<arr[j] (j: i...size-1)`
* 2.åœ¨`å¾ªç¯2`ä¸­ï¼Œ ç»è¿‡`arr[size-1]` åˆ° iï¼‹1 å…ƒç´ çš„ä¸´è¿‘å…ƒç´ çš„ä¸¤ä¸¤æ¯”è¾ƒï¼Œ`arr[i+1]`å…ƒç´ æ˜¯ä»indexä¸º iï¼‹1 åˆ° sizeï¼1å…ƒç´ ä¸­æœ€å°çš„ï¼›`arr[i+1] < arr[j] (j: i+2....size-1)`
* 3.å¦‚æœiå…ƒç´ æ¯”iï¼‹1å…ƒç´ å°ï¼Œé‚£ä¹ˆç°åœ¨`arr[i+1]`å…ƒç´ å°±æ˜¯`arr[i]`å³è¾¹æ‰€æœ‰å…ƒç´ ä¸­æœ€å°çš„ä¸€ä¸ªï¼›æ‰€ä»¥å¾ªç¯1å¯ä»¥ç›´æ¥è·³è¿‡ç¬¬iï¼‹1æ¬¡å¾ªç¯ `arr[i] < arr[i+1] && arr[i+1] < arr[j] (j: i+2....size-1)`

ç»“åˆç¬¬ä¸‰ç‚¹å’Œç¬¬ä¸€ç‚¹ï¼Œ æˆ‘ä»¬å¯ä»¥ç¡®å®šå½“ i ï¼ iï¼‹1æ—¶ï¼Œ æ»¡è¶³ `arr[i] < arr[j] (j: i...size-1)`; å³æ»¡è¶³æ¡ä»¶1. è€Œæ¡ä»¶ä¸€å°±æ˜¯`å¾ªç¯1`çš„é€»è¾‘ï¼Œ æ‰€ä»¥æ»¡è¶³æ¡ä»¶1ã€2ã€3æ—¶ï¼Œ`å¾ªç¯1` å¯ä»¥è·³è¿‡i=i+1è¿™ä¸€æ¬¡å¾ªç¯ï¼›ä»è€Œå‡å°‘äº†`å¾ªç¯2`çš„æ‰§è¡Œåˆ¤æ–­æ¬¡æ•°

## é€‰æ‹©æ’åº

é€‰æ‹©æ’åºçš„æ ¸å¿ƒæ€æƒ³æ—¶ï¼Œ æŒ‰é¡ºåºé€‰å®šä¸€ä¸ªå…ƒç´ ï¼›é€šè¿‡éå†å‰©ä¸‹çš„`å³å…ƒç´ `ï¼Œ æ‰¾å‡º`æœ€å°å…ƒç´ çš„ç´¢å¼•`ï¼Œ å°†æœ€å°å…ƒç´ å’Œé€‰å®šå…ƒç´ äº¤æ¢ï¼› è¿™æ ·çš„è¯ï¼Œ å› ä¸ºåœ¨æ’åºçš„è¿‡ç¨‹ä¸­ï¼Œ æˆ‘ä»¬æœ‰å°†å¤§å…ƒç´ å¾€åç§»åŠ¨çš„è¿‡ç¨‹ï¼Œ å½“æ•°æ®é‡è¾ƒå¤§æ—¶ï¼›èƒ½å¤§é‡çš„å‡å°‘æ•°æ®ç§»åŠ¨äº¤æ¢çš„æ¬¡æ•°ï¼›å½“ç„¶ï¼Œå¯¹äºé€‰æ‹©æ’åºå’Œå†’æ³¡æ’åºï¼Œ ä»–ä»¬æ•´ä½“ä¸Šçš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º`O(n^2)`;

```c
#include <stdio.h>
/*
 * æ’å…¥æ’åºç›¸å¯¹äºå†’æ³¡æ’åºï¼Œæ•°æ®ä¸Šå‡å°‘äº†æ•°æ®äº¤æ¢çš„æ¬¡æ•°
 * */

void InsertSort_0(int arr[], int size) {
    for (int i=0; i < size - 1; i++) {

        int min_index = i;
        for (int j=i+1; j < size; j++) { //æ‰¾å‡ºæœ€å°å…ƒç´ çš„ä¸‹æ ‡
            if (arr[j] < arr[min_index])
                min_index = j;
        }
        if (min_index == i)  {//è¯´æ˜ arr[i] å°±æ˜¯æœ€å°çš„å…ƒç´ ï¼Œ æ— éœ€è¿›è¡Œæ•°æ®äº¤æ¢
            continue;
        }
        int tmp = arr[i];
        arr[i] = arr[min_index];
        arr[min_index] = tmp;
    }
}

int main() {

    int arr[10] = {2, 4, 3, 8,  1, 5 , 9, 7, 0, 6};
    InsertSort_0(arr, 10);
    for(int i=0; i < 10; i++) {
        printf("\n[%d]-", arr[i]);
    }
}
```

## æ’å…¥æ’åº

æ’å…¥æ’åºåŸºæœ¬æ€æƒ³å°±æ˜¯ï¼Œ ä¿è¯æ‰€æ’åºå…ƒç´ å‰é¢æ‰€æœ‰å…ƒç´ æ˜¯æœ‰åºçš„ï¼Œå…¶å®æ˜¯ä¸ªæ•°å­¦ä¸­çš„å½’çº³æ³•ï¼Œå³ï¼šè®¾å®šA\[0\]æ˜¯æœ‰åºçš„ï¼Œ é‚£ä¹ˆæˆ‘æ’åºç¬¬äºŒä¸ªå…ƒç´ a\[1\]çš„æ—¶å€™ï¼Œä¸å‰é¢å·²æ’åºå…ƒç´ A\[0\]å¯¹æ¯”ï¼Œå°†A\[1\]æ’å…¥åˆ°å‰é¢å·²æ’åºå…ƒç´ ä¸­
æ’åºA\[i\]æ—¶ï¼Œ A\[0\]~A\[i-1\]å…ƒç´ å‡ä¸ºæœ‰åºçš„ï¼Œ é‚£ä¹ˆåªè¦æˆ‘ä»¬ä¾æ¬¡å°†A\[i\]ä¸A\[i-1\]ã€A\[i-2\]..å¯¹æ¯”ï¼Œå°†A\[i\]æ’å…¥åˆ°A\[x\]{0 &lt; x &lt;i}, å…¶ä¸­A\[0~x-1\] &lt; A\[x\] &lt; A\[x+1~i\]

```c
void insert_sort(int a[], int len) {
  for (int i=1; i < len; i++) {
    int value = a[i]; //get the value
    int j = i-1;
    // å› ä¸ºå·¦è¾¹å·²ç»æ˜¯æ’åºå¥½çš„çŠ¶æ€, æ‰€ä»¥ä¾æ¬¡å°†å¤§äºvalueçš„å…ƒç´ å¾€å³æŒªåŠ¨ä¸€ä¸ªä½ç½®, æœ€åç©ºå‡ºçš„ä½ç½®
    // å¡«å…¥valueå³å¯.
    for (; j >= 0 && a[j] > value; j--) {
      int tmp = a[j];
      a[j] = a[j+1];
      a[j+1] = tmp;
    }
    a[j+1] = value;
  }
}
```

## shell æ’åº



## heap sort
å€ŸåŠ©äº†å»ºå †çš„è¿‡ç¨‹, O(NLogN). c++ä¸­å¯ä»¥å€ŸåŠ©äºç°æœ‰çš„std::priority_queueå®ç°.
```c++
  #include <queue>
  #include <vector>
  #include "tool.h"

  void heap_sort(int arr[], int len) {
    std::priority_queue<int, std::vector<int>, std::greater<int>> q;
    for (int i = 0; i < len; i++) {
      q.push(arr[i]);
    }
    for (int i = 0; i < len; i++) {
      arr[i] = q.top();
      q.pop();
    }
  }

  // ** è¿™é‡Œç›´æ¥åˆ©ç”¨çš„Heap çš„O(Nlog(N)) çš„ç‰¹æ€§, ç©ºé—´å¤æ‚åº¦å¢åŠ O(N)
  int main() {
      int arr[10] = {2, 4, 3, 8,  1, 5 , 9, 7, 0, 6};
      printf("origin array:");print_arr(arr, 10);
      heap_sort(arr, 10);
      printf("final result:");print_arr(arr, 10);
  }
```



## å½’å¹¶æ’åº

å½’å¹¶æ’åº, å¯¹ä¸¤ä¸ªå·²æ’åºçš„éƒ¨åˆ†è¿›è¡Œåˆå¹¶, ä»æ—§æ˜¯äºŒåˆ†åŸåˆ™. é€šè¿‡å·¦å³ä¸¤ä¸ªindexä¸åœçš„å‰è¿›æ¥è¿›è¡Œåˆå¹¶,  ç¼ºç‚¹æ˜¯éœ€è¦è¿›è¡Œé¢å¤–çš„å†…å­˜. ä¼˜åŒ–ç‚¹, ä»»æ„æ—¶åˆ»åªæœ‰ä¸€éƒ¨åˆ†åŒºé—´è¢«æ“ä½œ, æ‰€ä»¥å¯ä»¥åœ¨mergeè¿‡ç¨‹ä¸­ä¼˜åŒ–æ‰å•ç‹¬å¼€è¾Ÿå†…å­˜çš„å¼€é”€.

```
#include "tool.h"
#include <type_traits>
#include <cstring>

void merge(int arr[], int left, int mid, int right) {
  if (right - left < 1) {
    return;
  }
  int size = right - left + 1;
  int dst[size] = {0};

  int dst_idx = 0;
  int l_iter = left;
  int r_iter = mid + 1;
  while (dst_idx < size) {
    if (arr[l_iter] < arr[r_iter]) {
      dst[dst_idx++] = arr[l_iter++];
    } else {
      dst[dst_idx++] = arr[r_iter++];
    }

    if (l_iter > mid) {
      while(r_iter <= right) {
        dst[dst_idx++] = arr[r_iter++];
      }
      break;
    }

    if (r_iter > right) {
      while(l_iter <= mid) {
        dst[dst_idx++] = arr[l_iter++];
      }
      break;
    }
  }
  memcpy(arr + left, dst, size * sizeof(int));
}

void merge_sort(int arr[], int left, int right) {
  if (left < right) {
    int mid = (left + right) / 2;
    merge_sort(arr, left, mid);
    merge_sort(arr, mid + 1, right);
    merge(arr, left, mid, right);
  }
}
```



## å¿«é€Ÿæ’åº

å¿«é€Ÿæ’åº, é¦–å…ˆæ˜¯å®šä¹‰, åœ¨partitionçš„è¿‡ç¨‹ä¸­, è¿›è¡ŒäºŒåˆ†(å³: partitionä¹‹å, å·¦è¾¹çš„æ•°å°äºé€‰å–çš„å€¼, å³è¾¹çš„æ•°éƒ½å¤§äºpiovtå€¼), 

partitionå‡½æ•°çš„å®šä¹‰:

- å®Œæˆåè¿”å›åŒºåˆ†å·¦å³ä¸¤ä¸ªåˆ†åŒºçš„piovtå€¼
- piovtå·¦è¾¹éƒ½æ¯”piovtæ‰€åœ¨çš„å€¼å°, å³è¾¹éƒ½æ¯”piovtæ‰€åœ¨å€¼å¤§

```c++
#include "tool.h"
#include "vector"
#include <vector>

/* return the position split left and right */
int partition(int arr[], int l, int r) {
  int piovt = l; 
  int value = arr[l]; // è¿™é‡Œæœ‰å„ç§é€‰å€¼ä¼˜åŒ–. ä¸‰æ•°, å‡å€¼, éšæœº, ä¸­æ•°etc
  // å‘ä½, è¿‡ç¨‹ä¸­ä¼šå˜åŠ¨. æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯å¡«è¿™ä¸ªå‘, å·¦è¾¹å¡«ä¸€ä¸ª, å³è¾¹å¡«ä¸€ä¸ª,
  // ç›´åˆ°æœ€åç•™ä¸‹çš„å‘ç”¨valueå»å¡«.ç„¶åè¿”å›æ–°çš„åˆ†ç•Œç‚¹piovt
  int r_iter = r;
  int l_iter = l;

  while (l_iter < r_iter) {

    //find first value from left less than value
    while (l_iter < r_iter) {
      if (arr[r_iter] < value) {
        arr[piovt] = arr[r_iter];
        piovt = r_iter;
        //r_iter--;
        l_iter++;
        break;
      }
      r_iter--;
    }

    // find first value from right great than value
    while(l_iter < r_iter) {
      if (arr[l_iter] >= value) {
        arr[piovt] = arr[l_iter];
        piovt = l_iter;
        //l_iter++;
        r_iter--;
        break;
      }
      l_iter++;
    }
  }
  // æŠŠæœ€åä¸€ä¸ªå‘å¡«ä¸Š.
  arr[piovt] = value;
  return piovt;
}

void quick_sort(int arr[], int l, int r) {
  if (l < r) {
    int new_piovt = partition(arr, l, r);
    quick_sort(arr, l, new_piovt - 1);
    quick_sort(arr, new_piovt+1, r);
  }
}
```

